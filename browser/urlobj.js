!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.urlobj=t()}}(function(){var t;return function e(t,r,n){function o(a,i){if(!r[a]){if(!t[a]){var h="function"==typeof require&&require;if(!i&&h)return h(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,r){"use strict";e.exports={NOTHING:-1,PROTOCOL:0,AUTHORITY:1,HOSTNAME:2,PORT:3,DIRECTORY:4,FILENAME:5,QUERY:6,FRAGMENT:7}},{}],2:[function(t,e,r){"use strict";function n(t,e,r,n){var o,s;if(e!==n)return!1;if(s=t.length,s!==r.length)return!1;for(o=0;s>o;o++)if(t[o]!==r[o])return!1;return!0}e.exports=n},{}],3:[function(t,e,r){"use strict";function n(t,e){var r,n,o,s,a,i,h,u=0;for(r in t){if(s=t.hasOwnProperty(r),i=e.hasOwnProperty(r),s===!1||i===!1||s!==i)return!1;if(s=t[r],i=e[r],s!==i){if(Array.isArray(s)!==Array.isArray(i))return!1;if(o=s.length,o!==i.length)return!1;for(a=s.slice().sort(),h=i.slice().sort(),n=0;o>n;n++)if(a[n]!==h[n])return!1}u++}return u!==Object.keys(e).length?!1:!0}e.exports=n},{}],4:[function(t,e,r){"use strict";function n(t,e){var r,n=t.length,o=e===!0?"/":"";for(r=0;n>r;r++)""!==t[r]&&(o+=t[r]+"/");return o}e.exports=n},{}],5:[function(t,e,r){"use strict";function n(t,e){var r,n,s,a,i={i:0},h="";for(a in t)if(t.hasOwnProperty(a)===!0)if(s=t[a],Array.isArray(s)===!1)h+=o(a,s,i,e);else for(n=s.length,r=0;n>r;r++)h+=o(a,s[r],i,e);return h}function o(t,e,r,n){var o="";return(""!==t&&""!==e||n!==!0)&&(o+=++r.i>1?"&":"?",t=encodeURIComponent(t),o+=""!==e?t+"="+encodeURIComponent(e).replace(/%20/g,"+"):t+"="),o}e.exports=n},{}],6:[function(t,e,r){"use strict";function n(t,e){var r,n,o,s=t.length,a={dir:[],leadingSlash:e===!0};for(n=0;s>n;n++)r=t[n],".."!==r?"."!==r&&a.dir.push(r):(o=a.dir.length>0?a.dir[a.dir.length-1]:null,null!==o&&(a.leadingSlash===!0||".."!==o&&"."!==o)?a.dir.splice(a.dir.length-1,1):a.leadingSlash===!1&&a.dir.push(r));return a}e.exports=n},{}],7:[function(t,e,r){"use strict";function n(t){var e,r,n={dir:[],filename:null,leadingSlash:!1};return t.length>0&&(r=t.lastIndexOf("/"),r>-1?(++r<t.length&&(e=t.substr(r),"."!==e&&".."!==e?(n.filename=e,t=t.substr(0,r)):t+="/"),n.dir=o(t)):"."===t||".."===t?(t+="/",n.dir=o(t)):n.filename=t,n.leadingSlash="/"===t[0]),n}function o(t){var e,r,n,o=[];if("/"!==t)for(e=t.split("/"),n=e.length,r=0;n>r;r++)""!==e[r]&&o.push(e[r]);return o}e.exports=n},{}],8:[function(t,e,r){"use strict";function n(t,e){return null!==t&&Array.isArray(e)===!0?e.indexOf(t)>-1:null}function o(t,e,r,o,u){var l;return"string"==typeof t||t instanceof String?t=s.parse(t,!0,r):"object"==typeof t&&null!==t.query&&"object"!=typeof t.query&&(t=s.parse(t.href,!0,r)),null!==o&&"object"!=typeof o&&(o=i),Array.isArray(u)===!1&&(u=h),t.extra={},l=a(t.pathname),t.extra.directory=l.dir,t.extra.directoryLeadingSlash=l.leadingSlash,t.extra.filename=l.filename,t.extra.filenameIsIndex=n(l.filename,u),t.extra.query=t.query,e!==!0&&(null!==t.search&&"?"===t.search[0]?t.query=t.search.substr(1):t.query=t.search),t}var s=t("url"),a=t("./parsePath"),i={ftp:21,http:80,https:443},h=["index.html"];e.exports=o},{"./parsePath":7,url:16}],9:[function(t,e,r){"use strict";function n(t,e,r,n){var s={dir:null,leadingSlash:!1};return n===!0?(s.dir=r.slice(),s.leadingSlash=n):(s.dir=t.concat(r),s.leadingSlash=e===!0),s.dir=o(s.dir,s.leadingSlash).dir,s}var o=t("./normalizeDirs");e.exports=n},{"./normalizeDirs":6}],10:[function(t,e,r){"use strict";function n(t,e){if(t.protocol!==e.protocol&&null!==t.protocol&&null!==e.protocol)return i.NOTHING;if(t.auth!==e.auth&&null!==t.auth&&null!==e.auth)return i.PROTOCOL;if(t.hostname!==e.hostname&&null!==t.hostname&&null!==e.hostname)return i.AUTHORITY;if(t.port!==e.port&&null!==t.port&&null!==e.port)return i.HOSTNAME;var r=a(t.extra.directory,t.extra.directoryLeadingSlash),n=a(e.extra.directory,e.extra.directoryLeadingSlash),h=o(r,t.extra.directoryLeadingSlash,n,e.extra.directoryLeadingSlash);return h===!1?i.PORT:t.filename!==e.filename&&null!==t.filename&&null!==e.filename&&t.extra.resourceIsIndex===!1&&e.extra.resourceIsIndex===!1?i.DIRECTORY:s(t.extra.query,e.extra.query)===!1?i.FILENAME:t.fragment!==e.fragment&&null!==t.fragment&&null!==e.fragment?i.QUERY:i.FRAGMENT}var o=t("./areSameDir"),s=t("./areSameQuery"),a=t("./normalizeDirs"),i=t("./UrlComponents");e.exports=n},{"./UrlComponents":1,"./areSameDir":2,"./areSameQuery":3,"./normalizeDirs":6}],11:[function(t,e,r){"use strict";e.exports={parse:t("./parseUrl"),relation:t("./urlRelation"),dirs:{join:t("./joinDirs"),normalize:t("./normalizeDirs"),parse:t("./parsePath"),resolve:t("./resolveDirs")},query:{join:t("./joinQuery")},components:t("./UrlComponents")}},{"./UrlComponents":1,"./joinDirs":4,"./joinQuery":5,"./normalizeDirs":6,"./parsePath":7,"./parseUrl":8,"./resolveDirs":9,"./urlRelation":10}],12:[function(e,r,n){(function(e){!function(o){function s(t){throw RangeError(P[t])}function a(t,e){for(var r=t.length;r--;)t[r]=e(t[r]);return t}function i(t,e){return a(t.split(D),e).join(".")}function h(t){for(var e,r,n=[],o=0,s=t.length;s>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&s>o?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function u(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=z(t>>>10&1023|55296),t=56320|1023&t),e+=z(t)}).join("")}function l(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:A}function f(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function c(t,e,r){var n=0;for(t=r?N(t/q):t>>1,t+=N(t/e);t>L*I>>1;n+=A)t=N(t/L);return N(n+(L+1)*t/(t+C))}function p(t){var e,r,n,o,a,i,h,f,p,m,d=[],y=t.length,v=0,g=U,x=R;for(r=t.lastIndexOf(S),0>r&&(r=0),n=0;r>n;++n)t.charCodeAt(n)>=128&&s("not-basic"),d.push(t.charCodeAt(n));for(o=r>0?r+1:0;y>o;){for(a=v,i=1,h=A;o>=y&&s("invalid-input"),f=l(t.charCodeAt(o++)),(f>=A||f>N((j-v)/i))&&s("overflow"),v+=f*i,p=x>=h?w:h>=x+I?I:h-x,!(p>f);h+=A)m=A-p,i>N(j/m)&&s("overflow"),i*=m;e=d.length+1,x=c(v-a,e,0==a),N(v/e)>j-g&&s("overflow"),g+=N(v/e),v%=e,d.splice(v++,0,g)}return u(d)}function m(t){var e,r,n,o,a,i,u,l,p,m,d,y,v,g,x,b=[];for(t=h(t),y=t.length,e=U,r=0,a=R,i=0;y>i;++i)d=t[i],128>d&&b.push(z(d));for(n=o=b.length,o&&b.push(S);y>n;){for(u=j,i=0;y>i;++i)d=t[i],d>=e&&u>d&&(u=d);for(v=n+1,u-e>N((j-r)/v)&&s("overflow"),r+=(u-e)*v,e=u,i=0;y>i;++i)if(d=t[i],e>d&&++r>j&&s("overflow"),d==e){for(l=r,p=A;m=a>=p?w:p>=a+I?I:p-a,!(m>l);p+=A)x=l-m,g=A-m,b.push(z(f(m+x%g,0))),l=N(x/g);b.push(z(f(l,0))),a=c(r,v,n==o),r=0,++n}++r,++e}return b.join("")}function d(t){return i(t,function(t){return E.test(t)?p(t.slice(4).toLowerCase()):t})}function y(t){return i(t,function(t){return T.test(t)?"xn--"+m(t):t})}var v="object"==typeof n&&n,g="object"==typeof r&&r&&r.exports==v&&r,x="object"==typeof e&&e;(x.global===x||x.window===x)&&(o=x);var b,O,j=2147483647,A=36,w=1,I=26,C=38,q=700,R=72,U=128,S="-",E=/^xn--/,T=/[^ -~]/,D=/\x2E|\u3002|\uFF0E|\uFF61/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=A-w,N=Math.floor,z=String.fromCharCode;if(b={version:"1.2.4",ucs2:{decode:h,encode:u},decode:p,encode:m,toASCII:y,toUnicode:d},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return b});else if(v&&!v.nodeType)if(g)g.exports=b;else for(O in b)b.hasOwnProperty(O)&&(v[O]=b[O]);else o.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,s){e=e||"&",r=r||"=";var a={};if("string"!=typeof t||0===t.length)return a;var i=/\+/g;t=t.split(e);var h=1e3;s&&"number"==typeof s.maxKeys&&(h=s.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;u>l;++l){var f,c,p,m,d=t[l].replace(i,"%20"),y=d.indexOf(r);y>=0?(f=d.substr(0,y),c=d.substr(y+1)):(f=d,c=""),p=decodeURIComponent(f),m=decodeURIComponent(c),n(a,p)?o(a[p])?a[p].push(m):a[p]=[a[p],m]:a[p]=m}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],14:[function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?n(a(t),function(a){var i=encodeURIComponent(o(a))+r;return s(t[a])?n(t[a],function(t){return i+encodeURIComponent(o(t))}).join(e):i+encodeURIComponent(o(t[a]))}).join(e):i?encodeURIComponent(o(i))+r+encodeURIComponent(o(t)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],15:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":13,"./encode":14}],16:[function(t,e,r){function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,r){if(t&&u(t)&&t instanceof n)return t;var o=new n;return o.parse(t,e,r),o}function s(t){return h(t)&&(t=o(t)),t instanceof n?t.format():n.prototype.format.call(t)}function a(t,e){return o(t,!1,!0).resolve(e)}function i(t,e){return t?o(t,!1,!0).resolveObject(e):e}function h(t){return"string"==typeof t}function u(t){return"object"==typeof t&&null!==t}function l(t){return null===t}function f(t){return null==t}var c=t("punycode");r.parse=o,r.resolve=a,r.resolveObject=i,r.format=s,r.Url=n;var p=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,d=["<",">",'"',"`"," ","\r","\n","	"],y=["{","}","|","\\","^","`"].concat(d),v=["'"].concat(y),g=["%","/","?",";","#"].concat(v),x=["/","?","#"],b=255,O=/^[a-z0-9A-Z_-]{0,63}$/,j=/^([a-z0-9A-Z_-]{0,63})(.*)$/,A={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},C=t("querystring");n.prototype.parse=function(t,e,r){if(!h(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t;n=n.trim();var o=p.exec(n);if(o){o=o[0];var s=o.toLowerCase();this.protocol=s,n=n.substr(o.length)}if(r||o||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===n.substr(0,2);!a||o&&w[o]||(n=n.substr(2),this.slashes=!0)}if(!w[o]&&(a||o&&!I[o])){for(var i=-1,u=0;u<x.length;u++){var l=n.indexOf(x[u]);-1!==l&&(-1===i||i>l)&&(i=l)}var f,m;m=-1===i?n.lastIndexOf("@"):n.lastIndexOf("@",i),-1!==m&&(f=n.slice(0,m),n=n.slice(m+1),this.auth=decodeURIComponent(f)),i=-1;for(var u=0;u<g.length;u++){var l=n.indexOf(g[u]);-1!==l&&(-1===i||i>l)&&(i=l)}-1===i&&(i=n.length),this.host=n.slice(0,i),n=n.slice(i),this.parseHost(),this.hostname=this.hostname||"";var d="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!d)for(var y=this.hostname.split(/\./),u=0,q=y.length;q>u;u++){var R=y[u];if(R&&!R.match(O)){for(var U="",S=0,E=R.length;E>S;S++)U+=R.charCodeAt(S)>127?"x":R[S];if(!U.match(O)){var T=y.slice(0,u),D=y.slice(u+1),P=R.match(j);P&&(T.push(P[1]),D.unshift(P[2])),D.length&&(n="/"+D.join(".")+n),this.hostname=T.join(".");break}}}if(this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),!d){for(var L=this.hostname.split("."),N=[],u=0;u<L.length;++u){var z=L[u];N.push(z.match(/[^A-Za-z0-9_-]/)?"xn--"+c.encode(z):z)}this.hostname=N.join(".")}var F=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+F,this.href+=this.host,d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!A[s])for(var u=0,q=v.length;q>u;u++){var M=v[u],k=encodeURIComponent(M);k===M&&(k=escape(M)),n=n.split(M).join(k)}var Q=n.indexOf("#");-1!==Q&&(this.hash=n.substr(Q),n=n.slice(0,Q));var Y=n.indexOf("?");if(-1!==Y?(this.search=n.substr(Y),this.query=n.substr(Y+1),e&&(this.query=C.parse(this.query)),n=n.slice(0,Y)):e&&(this.search="",this.query={}),n&&(this.pathname=n),I[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",z=this.search||"";this.path=F+z}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(s=C.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||I[e])&&o!==!1?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+o+r+a+n},n.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(h(t)){var e=new n;e.parse(t,!1,!0),t=e}var r=new n;if(Object.keys(this).forEach(function(t){r[t]=this[t]},this),r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(r[e]=t[e])}),I[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(t.protocol&&t.protocol!==r.protocol){if(!I[t.protocol])return Object.keys(t).forEach(function(e){r[e]=t[e]}),r.href=r.format(),r;if(r.protocol=t.protocol,t.host||w[t.protocol])r.pathname=t.pathname;else{for(var o=(t.pathname||"").split("/");o.length&&!(t.host=o.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),r.pathname=o.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var s=r.pathname||"",a=r.search||"";r.path=s+a}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var i=r.pathname&&"/"===r.pathname.charAt(0),u=t.host||t.pathname&&"/"===t.pathname.charAt(0),c=u||i||r.host&&t.pathname,p=c,m=r.pathname&&r.pathname.split("/")||[],o=t.pathname&&t.pathname.split("/")||[],d=r.protocol&&!I[r.protocol];if(d&&(r.hostname="",r.port=null,r.host&&(""===m[0]?m[0]=r.host:m.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===o[0]?o[0]=t.host:o.unshift(t.host)),t.host=null),c=c&&(""===o[0]||""===m[0])),u)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,m=o;else if(o.length)m||(m=[]),m.pop(),m=m.concat(o),r.search=t.search,r.query=t.query;else if(!f(t.search)){if(d){r.hostname=r.host=m.shift();var y=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;y&&(r.auth=y.shift(),r.host=r.hostname=y.shift())}return r.search=t.search,r.query=t.query,l(r.pathname)&&l(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!m.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var v=m.slice(-1)[0],g=(r.host||t.host)&&("."===v||".."===v)||""===v,x=0,b=m.length;b>=0;b--)v=m[b],"."==v?m.splice(b,1):".."===v?(m.splice(b,1),x++):x&&(m.splice(b,1),x--);if(!c&&!p)for(;x--;x)m.unshift("..");!c||""===m[0]||m[0]&&"/"===m[0].charAt(0)||m.unshift(""),g&&"/"!==m.join("/").substr(-1)&&m.push("");var O=""===m[0]||m[0]&&"/"===m[0].charAt(0);if(d){r.hostname=r.host=O?"":m.length?m.shift():"";var y=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;y&&(r.auth=y.shift(),r.host=r.hostname=y.shift())}return c=c||r.host&&m.length,c&&!O&&m.unshift(""),m.length?r.pathname=m.join("/"):(r.pathname=null,r.path=null),l(r.pathname)&&l(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=m.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:12,querystring:15}]},{},[11])(11)});