!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.urlobj=t()}}(function(){var t;return function e(t,r,n){function o(s,i){if(!r[s]){if(!t[s]){var h="function"==typeof require&&require;if(!i&&h)return h(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[s]={exports:{}};t[s][0].call(u.exports,function(e){var r=t[s][1][e];return o(r?r:e)},u,u.exports,e,t,r,n)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){"use strict";e.exports={OTHER:-1,STRING:0,CORE_URL_OBJECT:1,URLOBJ:2}},{}],2:[function(t,e,r){"use strict";e.exports={NOTHING:-1,PROTOCOL:0,SCHEME:0,HOSTNAME:4,PORT:5,HOST:6,AUTH:7,DIRECTORY:8,FILENAME:9,PATHNAME:10,QUERY:11,SEARCH:11,PATH:12,HASH:13,FRAGMENT:13}},{}],3:[function(t,e,r){"use strict";e.exports={UNKNOWN:-1,ABSOLUTE:0,PROTOCOL_RELATIVE:1,ROOT_RELATIVE:2,DIRECTORY_RELATIVE:3,FILENAME_RELATIVE:4,QUERY_RELATIVE:5,EMPTY:6,HASH_RELATIVE:7}},{}],4:[function(t,e,r){"use strict";function n(t,e,r,n){var o,a=t.length,s=r.length;if(1>a&&e===!1)return!0;if(1>s&&n===!1)return!0;if(e!==n)return!1;if(a!==s)return!1;for(o=0;a>o;o++)if(t[o]!==r[o])return!1;return!0}e.exports=n},{}],5:[function(t,e,r){"use strict";function n(t,e){var r,n,a,s,i,h,l,u=0;for(r in t){if(s=o.call(t,r),h=o.call(e,r),s===!1||h===!1||s!==h)return!1;if(s=t[r],h=e[r],s!==h){if(Array.isArray(s)===!1||Array.isArray(h)===!1)return!1;if(a=s.length,a!==h.length)return!1;for(i=s.slice().sort(),l=h.slice().sort(),n=0;a>n;n++)if(i[n]!==l[n])return!1}u++}return u===Object.keys(e).length}var o=Object.prototype.hasOwnProperty;e.exports=n},{}],6:[function(t,e,r){"use strict";function n(t){var e=t.pathname;return null!==t.search&&(e+=t.search),e}e.exports=n},{}],7:[function(t,e,r){"use strict";function n(t){var e=o(t.extra.directory,t.extra.directoryLeadingSlash);return null!==t.extra.filename&&(e+=t.extra.filename),e}var o=t("./joinDirs");e.exports=n},{"./joinDirs":10}],8:[function(t,e,r){"use strict";function n(t){return a(t)===!0?s.STRING:o(t)===!0&&Array.isArray(t)===!1&&void 0!==t.protocol?o(t.extra)===!0?s.URLOBJ:s.CORE_URL_OBJECT:s.OTHER}var o=t("is-object"),a=t("is-string"),s=t("./InputTypes");e.exports=n},{"./InputTypes":1,"is-object":21,"is-string":22}],9:[function(t,e,r){"use strict";function n(t,e,r){return null!==t?null===e?!0:(o(r)===!1&&(r=a),r[t]===parseInt(e)):null}var o=t("is-object"),a={ftp:21,gopher:70,http:80,https:443};e.exports=n},{"is-object":21}],10:[function(t,e,r){"use strict";function n(t,e){var r,n=t.length,o=e===!0?"/":"";for(r=0;n>r;r++)""!==t[r]&&(o+=t[r]+"/");return o}e.exports=n},{}],11:[function(t,e,r){"use strict";function n(t,e){var r,n,a,s,i={i:0},h="";for(s in t)if(t.hasOwnProperty(s)===!0)if(a=t[s],Array.isArray(a)===!1)h+=o(s,a,i,e);else for(n=a.length,r=0;n>r;r++)h+=o(s,a[r],i,e);return h}function o(t,e,r,n){var o="";return(""!==t&&""!==e||n!==!0)&&(o+=++r.i>1?"&":"?",t=encodeURIComponent(t),o+=""!==e?t+"="+encodeURIComponent(e).replace(/%20/g,"+"):t+"="),o}e.exports=n},{}],12:[function(t,e,r){"use strict";function n(t,e){var r,n,o,a=t.length,s={dir:[],leadingSlash:e===!0};for(n=0;a>n;n++)r=t[n],".."!==r?"."!==r&&s.dir.push(r):(o=s.dir.length>0?s.dir[s.dir.length-1]:null,null!==o&&(s.leadingSlash===!0||".."!==o&&"."!==o)?s.dir.splice(s.dir.length-1,1):s.leadingSlash===!1&&s.dir.push(r));return s}e.exports=n},{}],13:[function(t,e,r){"use strict";function n(t,e){var r;return t=l(t,e),t.extra.portIsDefault===!0&&null!==t.port&&(o(t.host)===!0&&(r=":"+t.port,t.host.substr(-r.length)===r&&(t.host=t.host.slice(0,-r.length))),t.port=null),t.extra.directory=h(t.extra.directory,t.extra.directoryLeadingSlash).dir,t.pathname=i(t),"?"===t.search&&(t.search=null,"?"!==t.query&&""!==t.query||(t.query=null)),t.path=s(t),t.href=a.format(t),t}var o=t("is-string"),a=t("url"),s=t("./formatPath"),i=t("./formatPathname"),h=t("./normalizeDirs"),l=t("./parseUrl");e.exports=n},{"./formatPath":6,"./formatPathname":7,"./normalizeDirs":12,"./parseUrl":15,"is-string":22,url:28}],14:[function(t,e,r){"use strict";function n(t){var e,r,n={dir:[],filename:null,leadingSlash:!1};return a(t)===!0&&t.length>0&&(r=t.lastIndexOf("/"),r>-1?(++r<t.length&&(e=t.substr(r),"."!==e&&".."!==e?(n.filename=e,t=t.substr(0,r)):t+="/"),n.dir=o(t)):"."===t||".."===t?(t+="/",n.dir=o(t)):n.filename=t,n.leadingSlash="/"===t[0]),n}function o(t){var e,r,n,o=[];if("/"!==t)for(e=t.split("/"),n=e.length,r=0;n>r;r++)""!==e[r]&&o.push(e[r]);return o}var a=t("is-string");e.exports=n},{"is-string":22}],15:[function(t,e,r){"use strict";function n(t,e){return null===t?!0:(Array.isArray(e)===!1&&(e=y),e.indexOf(t)>-1)}function o(t,e){var r={};return r=c(t)===!0?t:{parseQueryString:t,slashesDenoteHost:e}}function a(t,e,r){var a,c=o(e,r),y=s(t);switch(y){case i.STRING:t=p.parse(t,!0,c.slashesDenoteHost);break;case i.CORE_URL_OBJECT:(null==t.search&&null==t.query||f(t.search)===!0&&f(t.query)===!0)&&(t=p.parse(t.href,!0,c.slashesDenoteHost));break;case i.URLOBJ:return t;default:throw new Error("invalid input type")}return a=l(t.pathname),t.extra={},f(t.protocol)===!0?":"===t.protocol[t.protocol.length-1]&&(t.extra.protocolTruncated=t.protocol.substr(0,t.protocol.length-1)):t.extra.protocolTruncated=null,t.extra.portIsDefault=h(t.extra.protocolTruncated,t.port,c.defaultPorts),t.extra.directory=a.dir,t.extra.directoryLeadingSlash=a.leadingSlash,t.extra.filename=a.filename,t.extra.filenameIsIndex=n(a.filename,c.directoryIndexes),t.extra.query=t.query,c.parseQueryString!==!0&&(""!==t.search?"?"===t.search[0]?t.query=t.search.substr(1):t.query=t.search:(t.search=null,t.query=null)),t.extra.type=u(t),t}var s=t("./inputType"),i=t("./InputTypes"),h=t("./isDefaultPort"),l=t("./parsePath"),u=t("./typeofUrl"),c=(t("./UrlType"),t("is-object")),f=t("is-string"),p=t("url"),y=["index.html"];e.exports=a},{"./InputTypes":1,"./UrlType":3,"./inputType":8,"./isDefaultPort":9,"./parsePath":14,"./typeofUrl":18,"is-object":21,"is-string":22,url:28}],16:[function(t,e,r){"use strict";function n(t,e,r,n){var a={dir:null,leadingSlash:!1};return n===!0?(a.dir=r.slice(),a.leadingSlash=n):(a.dir=t.concat(r),a.leadingSlash=e===!0),a.dir=o(a.dir,a.leadingSlash).dir,a}var o=t("./normalizeDirs");e.exports=n},{"./normalizeDirs":12}],17:[function(t,e,r){"use strict";function n(t,e){return e.extra.type>=O.FILENAME_RELATIVE?(e.extra.directory=t.extra.directory.slice(),e.extra.directoryLeadingSlash=t.extra.directoryLeadingSlash,!0):!1}function o(t,e){return e.extra.type>=O.QUERY_RELATIVE?(e.extra.filename=t.extra.filename,e.extra.filenameIsIndex=t.extra.filenameIsIndex,!0):!1}function a(t,e){return e.extra.type>=O.ROOT_RELATIVE?(e.auth=t.auth,e.host=t.host,e.port=t.port,e.hostname=t.hostname,e.extra.portIsDefault=t.extra.portIsDefault,!0):!1}function s(t,e){return e.extra.type>=O.PROTOCOL_RELATIVE?(e.protocol=t.protocol,e.slashes=t.slashes,e.extra.protocolTruncated=t.extra.protocolTruncated,!0):!1}function i(t,e){return e.extra.type>=O.EMPTY?(e.search=t.search,b(t.query)===!0?(e.query=E({},t.query),e.extra.query=e.query):(e.query=t.query,e.extra.query=E({},t.extra.query)),!0):!1}function h(t,e){var r;return t.extra.directory=y(t.extra.directory,t.extra.directoryLeadingSlash).dir,e.extra.directory=y(e.extra.directory,e.extra.directoryLeadingSlash).dir,r=m(t.extra.directory,t.extra.directoryLeadingSlash,e.extra.directory,e.extra.directoryLeadingSlash),e.extra.directory=r.dir,e.extra.directoryLeadingSlash=r.leadingSlash,!0}function l(t,e,r){var l,y,m=!1,b=!1,I=!1,S=!1,A=!1;return r=E({},j,r),t=d(t,r),e=d(e,r),y=v(t,e),y<x.AUTH?e:(S=s(t,e),S===!0&&(I=a(t,e)),y<x.DIRECTORY||e.extra.type<O.FILENAME_RELATIVE?(m=h(t,e),l=u(t.extra.directory,t.extra.directoryLeadingSlash,e.extra.directory,e.extra.directoryLeadingSlash)):(m=n(t,e),l=m),(y>=x.DIRECTORY||l===!0)&&(b=o(t,e),A=i(t,e)),m!==!0&&b!==!0||(e.pathname=f(e)),m!==!0&&b!==!0&&A!==!0||(e.path=c(e)),S===!0&&I===!1&&(e.extra.portIsDefault=p(e.protocol,e.port,r.defaultPorts)),S!==!0&&I!==!0&&m!==!0&&b!==!0&&A!==!0||(e.href=T.format(e),e.extra.type=g(e)),e)}var u=t("./areSameDir"),c=t("./formatPath"),f=t("./formatPathname"),p=t("./isDefaultPort"),y=t("./normalizeDirs"),d=t("./parseUrl"),m=t("./resolveDirs"),g=t("./typeofUrl"),x=t("./UrlComponent"),v=t("./urlRelation"),O=t("./UrlType"),b=t("is-object"),E=t("object-assign"),T=t("url"),j={slashesDenoteHost:!0};e.exports=l},{"./UrlComponent":2,"./UrlType":3,"./areSameDir":4,"./formatPath":6,"./formatPathname":7,"./isDefaultPort":9,"./normalizeDirs":12,"./parseUrl":15,"./resolveDirs":16,"./typeofUrl":18,"./urlRelation":19,"is-object":21,"object-assign":23,url:28}],18:[function(t,e,r){"use strict";function n(t){return null!==t.protocol?o.ABSOLUTE:null!==t.hostname?o.PROTOCOL_RELATIVE:t.extra.directoryLeadingSlash===!0?o.ROOT_RELATIVE:t.extra.directory.length>0?o.DIRECTORY_RELATIVE:null!==t.extra.filename?o.FILENAME_RELATIVE:null!==t.search?o.QUERY_RELATIVE:null===t.hash?o.EMPTY:o.HASH_RELATIVE}var o=t("./UrlType");e.exports=n},{"./UrlType":3}],19:[function(t,e,r){"use strict";function n(t,e){var r;if(t=i(t),e=i(e),t.extra.type<l.EMPTY&&e.extra.type<l.EMPTY){if(t.extra.type===l.ABSOLUTE&&e.extra.type===l.ABSOLUTE){if(t.protocol!==e.protocol)return h.NOTHING;if(t.hostname!==e.hostname)return h.PROTOCOL;if(t.port!==e.port)return h.HOSTNAME;if(t.auth!==e.auth)return h.HOST}if(r=o(s(t.extra.directory,t.extra.directoryLeadingSlash).dir,t.extra.directoryLeadingSlash,s(e.extra.directory,e.extra.directoryLeadingSlash).dir,e.extra.directoryLeadingSlash),r===!1)return h.AUTH;if(t.extra.filename!==e.extra.filename&&t.extra.filenameIsIndex!==e.extra.filenameIsIndex)return h.DIRECTORY;if(a(t.extra.query,e.extra.query)===!1)return h.FILENAME}return t.hash!==e.hash?h.PATH:h.HASH}var o=t("./areSameDir"),a=t("./areSameQuery"),s=t("./normalizeDirs"),i=t("./parseUrl"),h=t("./UrlComponent"),l=t("./UrlType");e.exports=n},{"./UrlComponent":2,"./UrlType":3,"./areSameDir":4,"./areSameQuery":5,"./normalizeDirs":12,"./parseUrl":15}],20:[function(t,e,r){"use strict";e.exports={format:t("url").format,normalize:t("./normalizeUrl"),parse:t("./parseUrl"),relation:t("./urlRelation"),resolve:t("./resolveUrl"),component:t("./UrlComponent"),type:t("./UrlType"),areSameDir:t("./areSameDir"),areSameQuery:t("./areSameQuery"),joinDirs:t("./joinDirs"),joinQuery:t("./joinQuery"),normalizeDirs:t("./normalizeDirs"),parsePath:t("./parsePath"),resolveDirs:t("./resolveDirs"),typeofUrl:t("./typeofUrl")}},{"./UrlComponent":2,"./UrlType":3,"./areSameDir":4,"./areSameQuery":5,"./joinDirs":10,"./joinQuery":11,"./normalizeDirs":12,"./normalizeUrl":13,"./parsePath":14,"./parseUrl":15,"./resolveDirs":16,"./resolveUrl":17,"./typeofUrl":18,"./urlRelation":19,url:28}],21:[function(t,e,r){"use strict";e.exports=function(t){return"object"==typeof t&&null!==t}},{}],22:[function(t,e,r){"use strict";var n=String.prototype.valueOf,o=function(t){try{return n.call(t),!0}catch(e){return!1}},a=Object.prototype.toString,s="[object String]",i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(t){return"string"==typeof t?!0:"object"!=typeof t?!1:i?o(t):a.call(t)===s}},{}],23:[function(t,e,r){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;10>r;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(a){return!1}}var a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=o()?Object.assign:function(t,e){for(var r,o,i=n(t),h=1;h<arguments.length;h++){r=Object(arguments[h]);for(var l in r)a.call(r,l)&&(i[l]=r[l]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(r);for(var u=0;u<o.length;u++)s.call(r,o[u])&&(i[o[u]]=r[o[u]])}}return i}},{}],24:[function(e,r,n){(function(e){!function(o){function a(t){throw new RangeError(w[t])}function s(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function i(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(D,".");var o=t.split("."),a=s(o,e).join(".");return n+a}function h(t){for(var e,r,n=[],o=0,a=t.length;a>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&a>o?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=H(t>>>10&1023|55296),t=56320|1023&t),e+=H(t)}).join("")}function u(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:T}function c(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function f(t,e,r){var n=0;for(t=r?N(t/A):t>>1,t+=N(t/e);t>P*I>>1;n+=T)t=N(t/P);return N(n+(P+1)*t/(t+S))}function p(t){var e,r,n,o,s,i,h,c,p,y,d=[],m=t.length,g=0,x=U,v=R;for(r=t.lastIndexOf(L),0>r&&(r=0),n=0;r>n;++n)t.charCodeAt(n)>=128&&a("not-basic"),d.push(t.charCodeAt(n));for(o=r>0?r+1:0;m>o;){for(s=g,i=1,h=T;o>=m&&a("invalid-input"),c=u(t.charCodeAt(o++)),(c>=T||c>N((E-g)/i))&&a("overflow"),g+=c*i,p=v>=h?j:h>=v+I?I:h-v,!(p>c);h+=T)y=T-p,i>N(E/y)&&a("overflow"),i*=y;e=d.length+1,v=f(g-s,e,0==s),N(g/e)>E-x&&a("overflow"),x+=N(g/e),g%=e,d.splice(g++,0,x)}return l(d)}function y(t){var e,r,n,o,s,i,l,u,p,y,d,m,g,x,v,O=[];for(t=h(t),m=t.length,e=U,r=0,s=R,i=0;m>i;++i)d=t[i],128>d&&O.push(H(d));for(n=o=O.length,o&&O.push(L);m>n;){for(l=E,i=0;m>i;++i)d=t[i],d>=e&&l>d&&(l=d);for(g=n+1,l-e>N((E-r)/g)&&a("overflow"),r+=(l-e)*g,e=l,i=0;m>i;++i)if(d=t[i],e>d&&++r>E&&a("overflow"),d==e){for(u=r,p=T;y=s>=p?j:p>=s+I?I:p-s,!(y>u);p+=T)v=u-y,x=T-y,O.push(H(c(y+v%x,0))),u=N(v/x);O.push(H(c(u,0))),s=f(r,g,n==o),r=0,++n}++r,++e}return O.join("")}function d(t){return i(t,function(t){return C.test(t)?p(t.slice(4).toLowerCase()):t})}function m(t){return i(t,function(t){return q.test(t)?"xn--"+y(t):t})}var g="object"==typeof n&&n&&!n.nodeType&&n,x="object"==typeof r&&r&&!r.nodeType&&r,v="object"==typeof e&&e;v.global!==v&&v.window!==v&&v.self!==v||(o=v);var O,b,E=2147483647,T=36,j=1,I=26,S=38,A=700,R=72,U=128,L="-",C=/^xn--/,q=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=T-j,N=Math.floor,H=String.fromCharCode;if(O={version:"1.4.1",ucs2:{decode:h,encode:l},decode:p,encode:y,toASCII:m,toUnicode:d},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return O});else if(g&&x)if(r.exports==g)x.exports=O;else for(b in O)O.hasOwnProperty(b)&&(g[b]=O[b]);else o.punycode=O}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,a){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var i=/\+/g;t=t.split(e);var h=1e3;a&&"number"==typeof a.maxKeys&&(h=a.maxKeys);var l=t.length;h>0&&l>h&&(l=h);for(var u=0;l>u;++u){var c,f,p,y,d=t[u].replace(i,"%20"),m=d.indexOf(r);m>=0?(c=d.substr(0,m),f=d.substr(m+1)):(c=d,f=""),p=decodeURIComponent(c),y=decodeURIComponent(f),n(s,p)?o(s[p])?s[p].push(y):s[p]=[s[p],y]:s[p]=y}return s};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],26:[function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?n(s(t),function(s){var i=encodeURIComponent(o(s))+r;return a(t[s])?n(t[s],function(t){return i+encodeURIComponent(o(t))}).join(e):i+encodeURIComponent(o(t[s]))}).join(e):i?encodeURIComponent(o(i))+r+encodeURIComponent(o(t)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],27:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":25,"./encode":26}],28:[function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,r){if(t&&l.isObject(t)&&t instanceof n)return t;var o=new n;return o.parse(t,e,r),o}function a(t){return l.isString(t)&&(t=o(t)),t instanceof n?t.format():n.prototype.format.call(t)}function s(t,e){return o(t,!1,!0).resolve(e)}function i(t,e){return t?o(t,!1,!0).resolveObject(e):e}var h=t("punycode"),l=t("./util");r.parse=o,r.resolve=s,r.resolveObject=i,r.format=a,r.Url=n;var u=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","	"],y=["{","}","|","\\","^","`"].concat(p),d=["'"].concat(y),m=["%","/","?",";","#"].concat(d),g=["/","?","#"],x=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,O=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=t("querystring");n.prototype.parse=function(t,e,r){if(!l.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=-1!==n&&n<t.indexOf("#")?"?":"#",a=t.split(o),s=/\\/g;a[0]=a[0].replace(s,"/"),t=a.join(o);var i=t;if(i=i.trim(),!r&&1===t.split("#").length){var c=f.exec(i);if(c)return this.path=i,this.href=i,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=j.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var p=u.exec(i);if(p){p=p[0];var y=p.toLowerCase();this.protocol=y,i=i.substr(p.length)}if(r||p||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var I="//"===i.substr(0,2);!I||p&&E[p]||(i=i.substr(2),this.slashes=!0)}if(!E[p]&&(I||p&&!T[p])){for(var S=-1,A=0;A<g.length;A++){var R=i.indexOf(g[A]);-1!==R&&(-1===S||S>R)&&(S=R)}var U,L;L=-1===S?i.lastIndexOf("@"):i.lastIndexOf("@",S),-1!==L&&(U=i.slice(0,L),i=i.slice(L+1),this.auth=decodeURIComponent(U)),S=-1;for(var A=0;A<m.length;A++){var R=i.indexOf(m[A]);-1!==R&&(-1===S||S>R)&&(S=R)}-1===S&&(S=i.length),this.host=i.slice(0,S),i=i.slice(S),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var q=this.hostname.split(/\./),A=0,D=q.length;D>A;A++){var w=q[A];if(w&&!w.match(v)){for(var P="",N=0,H=w.length;H>N;N++)P+=w.charCodeAt(N)>127?"x":w[N];if(!P.match(v)){var _=q.slice(0,A),M=q.slice(A+1),z=w.match(O);z&&(_.push(z[1]),M.unshift(z[2])),M.length&&(i="/"+M.join(".")+i),this.hostname=_.join(".");break}}}this.hostname.length>x?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=h.toASCII(this.hostname));var V=this.port?":"+this.port:"",Y=this.hostname||"";this.host=Y+V,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!b[y])for(var A=0,D=d.length;D>A;A++){var Q=d[A];if(-1!==i.indexOf(Q)){var F=encodeURIComponent(Q);F===Q&&(F=escape(Q)),i=i.split(Q).join(F)}}var k=i.indexOf("#");-1!==k&&(this.hash=i.substr(k),i=i.slice(0,k));var B=i.indexOf("?");if(-1!==B?(this.search=i.substr(B),this.query=i.substr(B+1),e&&(this.query=j.parse(this.query)),i=i.slice(0,B)):e&&(this.search="",this.query={}),i&&(this.pathname=i),T[y]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var V=this.pathname||"",G=this.search||"";this.path=V+G}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(a=j.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||T[e])&&o!==!1?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+o+r+s+n},n.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(l.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,o=Object.keys(this),a=0;a<o.length;a++){var s=o[a];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),h=0;h<i.length;h++){var u=i[h];"protocol"!==u&&(r[u]=t[u])}return T[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!T[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var p=c[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||E[t.protocol])r.pathname=t.pathname;else{for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==y[0]&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",m=r.search||"";r.path=d+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),v=x||g||r.host&&t.pathname,O=v,b=r.pathname&&r.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],j=r.protocol&&!T[r.protocol];if(j&&(r.hostname="",r.port=null,r.host&&(""===b[0]?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===y[0]?y[0]=t.host:y.unshift(t.host)),t.host=null),v=v&&(""===y[0]||""===b[0])),x)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=y;else if(y.length)b||(b=[]),b.pop(),b=b.concat(y),r.search=t.search,r.query=t.query;else if(!l.isNullOrUndefined(t.search)){if(j){r.hostname=r.host=b.shift();var I=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;I&&(r.auth=I.shift(),r.host=r.hostname=I.shift())}return r.search=t.search,r.query=t.query,l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=b.slice(-1)[0],A=(r.host||t.host||b.length>1)&&("."===S||".."===S)||""===S,R=0,U=b.length;U>=0;U--)S=b[U],"."===S?b.splice(U,1):".."===S?(b.splice(U,1),R++):R&&(b.splice(U,1),R--);if(!v&&!O)for(;R--;R)b.unshift("..");!v||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),A&&"/"!==b.join("/").substr(-1)&&b.push("");var L=""===b[0]||b[0]&&"/"===b[0].charAt(0);if(j){r.hostname=r.host=L?"":b.length?b.shift():"";var I=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;I&&(r.auth=I.shift(),r.host=r.hostname=I.shift())}return v=v||r.host&&b.length,v&&!L&&b.unshift(""),b.length?r.pathname=b.join("/"):(r.pathname=null,r.path=null),l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=c.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":29,punycode:24,querystring:27}],29:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}]},{},[20])(20)});